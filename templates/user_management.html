<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>AdminLTE 3 | General Form Elements</title>

  <!-- Google Font: Source Sans Pro -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="/static/plugins/fontawesome-free/css/all.min.css">
  <!-- Theme style -->
  <link rel="stylesheet" href="/static/dist/css/adminlte.min.css">
</head>
<body class="hold-transition sidebar-mini">
<div class="wrapper">
  <!-- Navbar -->
  <nav class="main-header navbar navbar-expand navbar-white navbar-light">
    <!-- Left navbar links -->
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i></a>
      </li>
      <li class="nav-item d-none d-sm-inline-block">
        <a href="../../index3.html" class="nav-link">Home</a>
      </li>
      <li class="nav-item d-none d-sm-inline-block">
        <a href="/logout" class="nav-link">登出</a>
      </li>
    </ul>

    <!-- Right navbar links -->

  </nav>
  <!-- /.navbar -->

  <!-- 主边栏容器 -->

  <aside class="main-sidebar sidebar-dark-primary elevation-4">
   <!-- Brand Logo -->
   <a href="../../index3.html" class="brand-link">
     <img src="/static/dist/img/AdminLTELogo.png" alt="AdminLTE 标志" class="brand-image img-circle elevation-3" style="opacity: .8">
     <span class="brand-text font-weight-light"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">黑客后台管理</font></font></span>
   </a>

   <!-- Sidebar -->
   <div class="sidebar">
     <!-- Sidebar user (optional) -->
     <div class="user-panel mt-3 pb-3 mb-3 d-flex">
       <div class="image">
         <img src="/static/dist/img/IMG_2637.JPG" class="img-circle elevation-2" alt="用户画像">
       </div>
       <div class="info">
         <a href="/user_mag" class="d-block"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户管理</font></font></a>
       </div>
     </div>

     <!-- SidebarSearch Form -->
     <div class="form-inline">
       <div class="input-group" data-widget="sidebar-search">
         <input class="form-control form-control-sidebar" type="search" placeholder="搜索" aria-label="搜索">
         <div class="input-group-append">
           <button class="btn btn-sidebar">
             <i class="fas fa-search fa-fw"></i>
           </button>
         </div>
       </div><div class="sidebar-search-results"><div class="list-group"><a href="#" class="list-group-item"><div class="search-title"><strong class="text-light"></strong>N<strong class="text-light"></strong>o<strong class="text-light"></strong> <strong class="text-light"></strong>e<strong class="text-light"></strong>l<strong class="text-light"></strong>e<strong class="text-light"></strong>m<strong class="text-light"></strong>e<strong class="text-light"></strong>n<strong class="text-light"></strong>t<strong class="text-light"></strong> <strong class="text-light"></strong>f<strong class="text-light"></strong>o<strong class="text-light"></strong>u<strong class="text-light"></strong>n<strong class="text-light"></strong>d<strong class="text-light"></strong>!<strong class="text-light"></strong></div><div class="search-path"></div></a></div></div>
     </div>

     <!-- Sidebar Menu -->
     <nav class="mt-2">
       <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">
         <!-- 使用.nav图标类将图标添加到链接
              使用font awesome或任何其他图标字体库 -->

           <li class="nav-item ">
               <a href="#" class="nav-link ">
                 <i class="nav-icon fas fa-copy"></i>
                 <p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                   爬虫工具
                   </font></font><i class="fas fa-angle-left right"></i>
                   <span class="badge badge-info right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4</font></font></span>
                 </p>
               </a>
               <ul class="nav nav-treeview" style="display: none;">

                 <li class="nav-item ">
                   <a href="/lianjia" class="nav-link ">
                     <i class="far fa-circle nav-icon"></i>
                     <p>链家房源信息获取</p>
                   </a>
                 </li>
                 <li class="nav-item">
                   <a href="qax" class="nav-link ">
                     <i class="far fa-circle nav-icon"></i>
                     <p>奇安信攻防社区爬取</p>
                   </a>
                 </li>
                   <li class="nav-item">
                   <a href="qax2" class="nav-link ">
                     <i class="far fa-circle nav-icon"></i>
                     <p>奇安信攻防社区问答爬取</p>
                   </a>
                 </li>
                   </li>
                   <li class="nav-item">
                   <a href="reebuf" class="nav-link ">
                     <i class="far fa-circle nav-icon"></i>
                     <p>reebuf精选内容获取</p>
                   </a>
                 </li>

               </ul>
             </li>




       </ul>
     </nav>
     <!-- /.sidebar-menu -->
   </div>
   <!-- /.sidebar -->
 </aside>

  <!-- 内容包装器。包含页面内容 -->
  <div class="content-wrapper">



    <section class="content-header">
      <div class="container-fluid">
        <div class="row mb-2">
          <div class="col-sm-6">
            <h1>用户管理</h1>
          </div>
          <div class="col-sm-6">
            <ol class="breadcrumb float-sm-right">
              <li class="breadcrumb-item"><a href="#">Home</a></li>
              <li class="breadcrumb-item active">Projects</li>
            </ol>
          </div>
        </div>
      </div><!-- /.container-fluid -->
    </section>
  {% if error != None %}
      <div class="row">
        <div class="col-md-6"></div>
        <div class="col-md-6" style="color: red;"><h3>{{ error }}</h3></div>
     </div>
  {% endif %}

    <section class="content">

      <!-- Default box -->
      <div class="card col-sm-12">
        <div class="card-header">
          <h3 class="card-title">用户管理</h3>

          <div class="card-tools">
            <button type="button" class="btn btn-tool" data-card-widget="collapse" title="Collapse">
              <i class="fas fa-minus"></i>
            </button>
            <button type="button" class="btn btn-tool" data-card-widget="remove" title="Remove">
              <i class="fas fa-times"></i>
            </button>
          </div>
        </div>
        <div class="card-body p-0 ">
          <table class="table table-striped projects">
              <thead>
                  <tr>
                      <th style="width: 1%">
                          #
                      </th>
                      <th style="width: 15%">
                          用户名
                      </th>
                      <th style="width: 15%">
                          创建时间
                      </th>
                      <th>
                          标签
                      </th>
                      <th style="width: 20%" >
                          邮箱
                      </th>
                      <th style="width: 20%">
                          密码
                      </th>
                      <th style="width: 20%">
                      </th>
                  </tr>
              </thead>
              <tbody>
              <tr>
                  <form action="user_mag" method="post">
                      {%csrf_token%}
                    <td>
                        #
                    </td>
                    <td>
                        <a>
                            <input name="username" type="text" style="width: 50%;" value="">
                        </a>


                    </td>
                    <td>
                      <span>
                      </span>
                    </td>
                    <td class="project_progress">

                      <span class="badge badge-success"></span>

                    </td>
                    <td class=" text-light">
                              <input name="email" type="text" style="width: 70%" class="form-control" placeholder="请输入邮箱" value="">
                    </td>
                    <td class="text-light">
                                  <input name="password" type="password" style="width: 70%" class="form-control" id="exampleInputPassword1" placeholder="请输入密码">
                    </td>
                    <td class="project-actions text-righ">


                        <input type="submit" name="submit" style="width: 100%;" class="btn btn-danger btn-sm" value="添加">


                        </input>

                    </td>
                  </form>
                </tr>

              {% for i in data  %}
                  {#                  item['username'] = u.username#}
{#            item['is_superuser'] = u.is_superuser#}
{#            item['email'] = u.email#}
{#            item['date_joined'] = u.date_joined#}
{#            item['id']=u.id#}
                  <form action="user_mag" method="post">
                  {%csrf_token%}

                    <tr>
                            <td>
                                {{ i.id }}
                                <input type="text" name="id" value="{{ i.id }}" style="display: none">
                            </td>
                            <td>
{#                              <input type="text" name="username"  style="width: 50%;" class="form-control" placeholder="Enter ..." value="{{ i.username }}">#}
                                <span> {{ i.username}}
                              </span>

                            </td>
                            <td>
                              <span> {{ i.date_joined }}
                              </span>
                            </td>
                            <td class="project_progress">

                              {% if i.is_superuser == 1 %}
                                  <span class="badge badge-success">管理员</span>
                              {% endif %}

                            </td>
                            <td class="project-state">
                                <span> {{ i.email }}
                              </span>
                            </td>
                            <td>


                                  <input name="password" type="password" style="width: 70%" class="form-control" id="exampleInputPassword1" placeholder="********">

                            </td>
                            <td class="project-actions text-right">


                                <input type="submit" name="submit" class="btn btn-info btn-sm"  value="修改密码">


                                </input>
                                <a class="btn btn-danger btn-sm" href="/user_mag?id={{ i.id }}&button=del">
                                    <i class="fas fa-trash">
                                    </i>
                                    删除
                                </a>
                            </td>
                        </tr>
                  </form>




              {% endfor %}


              </tbody>
          </table>
        </div>
        <!-- /.card-body -->
      </div>
      <!-- /.card -->

    </section>











  </div>

  <!-- /.content-wrapper -->
  <footer class="main-footer">
    <div class="float-right d-none d-sm-block">
      <b>版本</b> beta 1.0
    </div>
    <strong>版权所有&copy; 2021- <a href="https://adminlte.io">Toby</a>.</strong>
  </footer>

  <!-- Control Sidebar -->
  <aside class="control-sidebar control-sidebar-dark">
    <!-- Control sidebar content goes here -->
  </aside>
  <!-- /.control-sidebar -->
</div>
<!-- ./wrapper -->

<!-- jQuery -->
<script src="/static/plugins/jquery/jquery.min.js"></script>
<!-- Bootstrap 4 -->
<script src="/static/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
<!-- bs-custom-file-input -->
<script src="/static/plugins/bs-custom-file-input/bs-custom-file-input.min.js"></script>
<!-- AdminLTE App -->
<script src="/static/dist/js/adminlte.min.js"></script>
<!-- AdminLTE for demo purposes -->
<script src="/static/dist/js/demo.js"></script>
<!-- Page specific script -->
<script>
$(function () {
  bsCustomFileInput.init();
});
</script>
</body>
</html>
